<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle breaker</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>


<body>

    <div class="container">
        <h1 style="text-align: center;">Wordle breaker</h1>

        <div class="d-flex mt-3" id="textBox">
        </div>

        <div class="d-flex mt-3" id="selectBox">
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button type="button" class="btn btn-dark" id="searchBtn">Search</button>
        </div>

        <div id="errorMessage" style="text-align: center; margin-top: 10px;">
        </div>

        <div id="wordDisplayBox" class="row mt-3">

        </div>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>
        const wordArr = ["about",
            "above",
            "abuse",
            "actor",
            "acute",
            "admit",
            "adopt",
            "adult",
            "after",
            "again",
            "agent",
            "agree",
            "ahead",
            "alarm",
            "album",
            "alert",
            "alike",
            "alive",
            "allow",
            "alone",
            "along",
            "alter",
            "among",
            "anger",
            "Angle",
            "angry",
            "apart",
            "apple",
            "apply",
            "arena",
            "argue",
            "arise",
            "array",
            "aside",
            "asset",
            "audio",
            "audit",
            "avoid",
            "award",
            "aware",
            "badly",
            "baker",
            "bases",
            "basic",
            "basis",
            "beach",
            "began",
            "begin",
            "begun",
            "being",
            "below",
            "bench",
            "billy",
            "birth",
            "black",
            "blame",
            "blind",
            "block",
            "blood",
            "board",
            "boost",
            "booth",
            "bound",
            "brain",
            "brand",
            "bread",
            "break",
            "breed",
            "brief",
            "bring",
            "broad",
            "broke",
            "brown",
            "build",
            "built",
            "buyer",
            "cable",
            "calif",
            "carry",
            "catch",
            "cause",
            "chain",
            "chair",
            "chart",
            "chase",
            "cheap",
            "check",
            "chest",
            "chief",
            "child",
            "china",
            "chose",
            "civil",
            "claim",
            "class",
            "clean",
            "clear",
            "click",
            "clock",
            "close",
            "coach",
            "coast",
            "could",
            "count",
            "court",
            "cover",
            "craft",
            "crash",
            "cream",
            "crime",
            "cross",
            "crowd",
            "crown",
            "curve",
            "cycle",
            "daily",
            "dance",
            "dated",
            "dealt",
            "death",
            "debut",
            "delay",
            "depth",
            "doing",
            "doubt",
            "dozen",
            "draft",
            "drama",
            "drawn",
            "dream",
            "dress",
            "drill",
            "drink",
            "drive",
            "drove",
            "dying",
            "eager",
            "early",
            "earth",
            "eight",
            "elite",
            "empty",
            "enemy",
            "enjoy",
            "enter",
            "entry",
            "equal",
            "error",
            "event",
            "every",
            "exact",
            "exist",
            "extra",
            "faith",
            "false",
            "fault",
            "fiber",
            "field",
            "fifth",
            "fifty",
            "fight",
            "final",
            "first",
            "fixed",
            "flash",
            "fleet",
            "floor",
            "fluid",
            "focus",
            "force",
            "forth",
            "forty",
            "forum",
            "found",
            "frame",
            "frank",
            "fraud",
            "fresh",
            "front",
            "fruit",
            "fully",
            "funny",
            "giant",
            "given",
            "glass",
            "globe",
            "going",
            "grace",
            "grade",
            "grand",
            "grant",
            "grass",
            "great",
            "green",
            "gross",
            "group",
            "grown",
            "guard",
            "guess",
            "guest",
            "guide",
            "happy",
            "harry",
            "heart",
            "heavy",
            "hence",
            "henry",
            "horse",
            "hotel",
            "house",
            "human",
            "ideal",
            "image",
            "index",
            "inner",
            "input",
            "issue",
            "japan",
            "jimmy",
            "joint",
            "jones",
            "judge",
            "known",
            "label",
            "large",
            "laser",
            "later",
            "laugh",
            "layer",
            "learn",
            "lease",
            "least",
            "leave",
            "legal",
            "level",
            "lewis",
            "light",
            "limit",
            "links",
            "lives",
            "local",
            "logic",
            "loose",
            "lower",
            "lucky",
            "lunch",
            "lying",
            "magic",
            "major",
            "maker",
            "march",
            "maria",
            "match",
            "maybe",
            "mayor",
            "meant",
            "media",
            "metal",
            "might",
            "minor",
            "minus",
            "mixed",
            "model",
            "money",
            "month",
            "moral",
            "motor",
            "mount",
            "mouse",
            "mouth",
            "movie",
            "music",
            "needs",
            "never",
            "newly",
            "night",
            "noise",
            "north",
            "noted",
            "novel",
            "nurse",
            "occur",
            "ocean",
            "offer",
            "often",
            "order",
            "other",
            "ought",
            "paint",
            "panel",
            "paper",
            "party",
            "peace",
            "peter",
            "phase",
            "phone",
            "photo",
            "piece",
            "pilot",
            "pitch",
            "place",
            "plain",
            "plane",
            "plant",
            "plate",
            "point",
            "pound",
            "power",
            "press",
            "price",
            "pride",
            "prime",
            "print",
            "prior",
            "prize",
            "proof",
            "proud",
            "prove",
            "queen",
            "quick",
            "quiet",
            "quite",
            "radio",
            "raise",
            "range",
            "rapid",
            "ratio",
            "reach",
            "ready",
            "refer",
            "right",
            "rival",
            "river",
            "robin",
            "roger",
            "roman",
            "rough",
            "round",
            "route",
            "royal",
            "rural",
            "scale",
            "scene",
            "scope",
            "score",
            "sense",
            "serve",
            "seven",
            "shall",
            "shape",
            "share",
            "sharp",
            "sheet",
            "shelf",
            "shell",
            "shift",
            "shirt",
            "shock",
            "shoot",
            "short",
            "shown",
            "sight",
            "since",
            "sixth",
            "sixty",
            "sized",
            "skill",
            "sleep",
            "slide",
            "small",
            "smart",
            "smile",
            "smith",
            "smoke",
            "solid",
            "solve",
            "sorry",
            "sound",
            "south",
            "space",
            "spare",
            "speak",
            "speed",
            "spend",
            "spent",
            "split",
            "spoke",
            "sport",
            "staff",
            "stage",
            "stake",
            "stand",
            "start",
            "state",
            "steam",
            "steel",
            "stick",
            "still",
            "stock",
            "stone",
            "stood",
            "store",
            "storm",
            "story",
            "strip",
            "stuck",
            "study",
            "stuff",
            "style",
            "sugar",
            "suite",
            "super",
            "sweet",
            "table",
            "taken",
            "taste",
            "taxes",
            "teach",
            "teeth",
            "terry",
            "texas",
            "thank",
            "theft",
            "their",
            "theme",
            "there",
            "these",
            "thick",
            "thing",
            "think",
            "third",
            "those",
            "three",
            "threw",
            "throw",
            "tight",
            "times",
            "tired",
            "title",
            "today",
            "topic",
            "total",
            "touch",
            "tough",
            "tower",
            "track",
            "trade",
            "train",
            "treat",
            "trend",
            "trial",
            "tried",
            "tries",
            "truck",
            "truly",
            "trust",
            "truth",
            "twice",
            "under",
            "undue",
            "union",
            "unity",
            "until",
            "upper",
            "upset",
            "urban",
            "usage",
            "usual",
            "valid",
            "value",
            "video",
            "virus",
            "visit",
            "vital",
            "voice",
            "waste",
            "watch",
            "water",
            "wheel",
            "where",
            "which",
            "while",
            "white",
            "whole",
            "whose",
            "woman",
            "women",
            "world",
            "worry",
            "worse",
            "worst",
            "worth",
            "would",
            "wound",
            "write",
            "wrong",
            "wrote",
            "yield",
            "young",
            "youth"
        ]

        let randNum = Math.floor( Math.random() * wordArr.length );
        let currentWord = wordArr[randNum];
        console.log(currentWord);

        const textBox = document.getElementById("textBox"); // box to display input box
        const selectBox = document.getElementById("selectBox"); // box to display select box

        const wordDisplayBox = document.getElementById("wordDisplayBox");

        for (let i = 0 ; i < 5 ; i ++){ // generate boxes
            textBox.innerHTML += `
                <input type="text" class="form-control" id="inputBox${i}" maxlength="1">
            `

            selectBox.innerHTML += `
            <select class="form-select" aria-label="Default select example" id="inputSelect${i}">
                <option selected></option>
                <option value="yello">yello</option>
                <option value="green">green</option>
            </select>
            `
        }

        const searchBtn = document.getElementById("searchBtn")
        searchBtn.addEventListener( 'click' , () => { // click to search reault
            let stringArr = ["","","","",""]
            let optionArr = ["","","","",""]
            let missingArr = [];

            for(let i = 0 ; i < 5 ; i ++){
                if(!document.getElementById(`inputBox${i}`).value){
                    missingArr.push(i+1)
                }

                document.getElementById(`inputBox${i}`).value && ( stringArr[i] = document.getElementById(`inputBox${i}`).value.toLowerCase() )
                document.getElementById(`inputSelect${i}`).value && ( optionArr[i] = document.getElementById(`inputSelect${i}`).value )
            }

            if(missingArr.length >= 1){
                document.getElementById("errorMessage").innerHTML = `<h3>Missing input words position ${missingArr.join(",")} .</h3>`
                return;
            }

            document.getElementById("errorMessage").innerHTML = ``

            let resultArr = [...wordArr];
    
            for(let k in optionArr){

                if(!optionArr[k]){
                    continue;
                }

                resultArr = optionArr[k] === "green" ? resultArr.filter( v => v[k] == stringArr[k]) : resultArr.filter( v => v.includes(stringArr[k]));

            }

            wordDisplayBox.innerHTML = ``;

            if(resultArr.length === 0){
                document.getElementById("errorMessage").innerHTML = `<h3> Words not found :( </h3>`
            }

            for(let i of resultArr){

                if(i === stringArr.join("")){
                    continue;
                }

                wordDisplayBox.innerHTML +=`
                <div class="col-sm-2">
                    <h4>${i}</h4>
                </div>
                
                `
            }

        })

    </script>

</body>

</html>