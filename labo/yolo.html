<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <!-- animate.css CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" />

    <link rel="stylesheet" href="mycss.css" />

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

   

    <title>Geiger-Counter</title>
    <link rel="icon" href="#" type="image/x-icon">
  </head>
  <body style="background-color:#007BFF ;" onload="loadInCook()">

    <div class="footer fixed-bottom">

      <nav class="navbar navbar-expand-sm navbar-light">
        <ul class="navbar-nav">
          <li class="nav-item " >
            <a href="https://r48n34.github.io/" style="color: white;" target="_blank">Reemo Studio</a>
            
          </li>
          
        </ul>
      </nav>
    </div>

    <div class="alert alert-primary alert-dismissible fade show">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Hay!</strong> We are using Cookies to store the counter values.
    </div>

   
    <h1 style="text-decoration: underline; color: white; font-size: 250%; text-align: center;">Geiger Counter</h1>
    <div class="container">

      <div class="row">
        
        <div class="col-md-4">

         
         </h1> <h1 style="color: white;" id="nameA">A.</h1>
         <span style="font-size:550%;" class="badge badge-light" id="numA">0</span>
         <br><br>
         <div style="font-size: 160%;">
            <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numA',0)">+1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numA',0)">+10</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numA',0)">-1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numA',0)">-10</button>
            <button  type="button" class="btn btn-warning" onclick="clearOne('numA',0)">clear</button>
            <br> <br>
         </div>

        </div>

        <div class="col-md-4">

          <h1 style="color: white;" id="nameB">B.</h1>
         
          <span style="font-size:550%;" class="badge badge-light" id="numB">0</span>
          <br><br>
          <div style="font-size: 160%;">
              <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numB',1)">+1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numB',1)">+10</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numB',1)">-1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numB',1)">-10</button>
              <button  type="button" class="btn btn-warning" onclick="clearOne('numB',1)">clear</button>
              <br> <br>
          </div>
          
        </div>

        <div class="col-md-4">

          <h1 style="color: white;" id="nameC">C.</h1>
          <span style="font-size:550%;" class="badge badge-light" id="numC">0</span>
          <br><br>
          <div style="font-size: 160%;">
             <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numC',2)">+1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numC',2)">+10</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numC',2)">-1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numC',2)">-10</button>
             <button  type="button" class="btn btn-warning" onclick="clearOne('numC',2)">clear</button>
             <br> <br>
          </div>
 
         </div>
 
 
      </div>

      <div class="row">
        
        <div class="col-md-4">

          <h1 style="color: white;" id="nameD">D.</h1>
         <span style="font-size:550%;" class="badge badge-light" id="numD">0</span>
         <br><br>
         <div style="font-size: 160%;">
            <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numD',3)">+1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numD',3)">+10</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numD',3)">-1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numD',3)">-10</button>
            <button  type="button" class="btn btn-warning" onclick="clearOne('numD',3)">clear</button>
            <br> <br>
         </div>

        </div>

        <div class="col-md-4">

          <h1 style="color: white;" id="nameE">E.</h1>
          <span style="font-size:550%;" class="badge badge-light" id="numE">0</span>
          <br><br>
          <div style="font-size: 160%;">
              <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numE',4)">+1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numE',4)">+10</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numE',4)">-1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numE',4)">-10</button>
              <button  type="button" class="btn btn-warning" onclick="clearOne('numE',4)">clear</button>
              <br> <br>
          </div>
          
        </div>

        <div class="col-md-4">
          <h1 style="color: white;" id="nameF">F.</h1>
          <span style="font-size:550%;" class="badge badge-light" id="numF">0</span>
          <br><br>
          <div style="font-size: 160%;">
             <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numF',5)">+1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numF',5)">+10</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numF',5)">-1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numF',5)">-10</button>
             <button  type="button" class="btn btn-warning" onclick="clearOne('numF',5)">clear</button>
             <br> <br>
          </div>
 
         </div>

      </div>

      <div class="row">
        
        <div class="col-md-4">

          <h1 style="color: white;" id="nameG">G.</h1>
         <span style="font-size:550%;" class="badge badge-light" id="numG">0</span>
         <br><br>
         <div style="font-size: 160%;">
            <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numG',6)">+1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numG',6)">+10</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numG',6)">-1</button>
            <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numG',6)">-10</button>
            <button  type="button" class="btn btn-warning" onclick="clearOne('numG',6)">clear</button>
            <br> <br>
         </div>

        </div>

        <div class="col-md-4">

          <h1 style="color: white;" id="nameH">H.</h1>
          <span style="font-size:550%;" class="badge badge-light" id="numH">0</span>
          <br><br>
          <div style="font-size: 160%;">
              <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numH',7)">+1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numH',7)">+10</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numH',7)">-1</button>
              <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numH',7)">-10</button>
              <button  type="button" class="btn btn-warning" onclick="clearOne('numH',7)">clear</button>
              <br> <br>
          </div>
          
        </div>

        <div class="col-md-4">

          <h1 style="color: white;" id="nameI">I.</h1>
          <span style="font-size:550%;" class="badge badge-light" id="numI">0</span>
          <br><br>
          <div style="font-size: 160%;">
             <button  type="button" class="btn btn-warning" onclick="sumBot(1,'numI',8)">+1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(10,'numI',8)">+10</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-1,'numI',8)">-1</button>
             <button  type="button" class="btn btn-warning" onclick="sumBot(-10,'numI',8)">-10</button>
             <button  type="button" class="btn btn-warning" onclick="clearOne('numI',8)">clear</button>
             <br> <br>
          </div>
 
         </div>
 

      </div>

      <div class="container" style="text-align: center;">
        <br><br>
        <button  type="button" class="btn btn-warning" onclick="clearAll()">All values clear</button>
        <button  type="button" class="btn btn-warning" onclick="cookClear()">Clear Cookies</button>
        <br><br>
        <hr style="width: 100%; color: white; height: 2px; background-color:white;" />
        
        <h1 style="color: white; font-size: 300%; text-align: center;">Other features</h1>

        <div class="row">
            <div class="col-md-4" style="color: white; ">
              <div style="text-align: left;">
                <h1 style="text-decoration: underline;">+/- num </h1>
                <h4>Target:</h4>
                <select class="form-control" id="sel1" style="width: 100px;">
                  <option>numA</option>
                  <option>numB</option>
                  <option>numC</option>
                  <option>numD</option>
                  <option>numE</option>
                  <option>numF</option>
                  <option>numG</option>
                  <option>numH</option>
                  <option>numI</option>
                </select>
                <h4>Value: (e.g 10/-10)</h4>
                <input type="text" class="form-control" id="addValue" style="width: 100px;">
                <br>
                <button id="addsub" type="button" class="btn btn-warning" onclick="assignValue()">Go</button>
              </div>



            </div>

            <div class="col-md-4">
              <div style="text-align: left; color: white; ">
                <h1 style="text-decoration: underline;">Rename</h1>
                <h4>Target:</h4>
                <select class="form-control" id="sel2" style="width: 100px;">
                  <option>nameA</option>
                  <option>nameB</option>
                  <option>nameC</option>
                  <option>nameD</option>
                  <option>nameE</option>
                  <option>nameF</option>
                  <option>nameG</option>
                  <option>nameH</option>
                  <option>nameI</option>
                </select>
                <h4>New name: (e.g Tom)</h4>
                <input type="text" class="form-control" id="rename1" style="width: 200px;">
                <br>
                <button id ="names" type="button" class="btn btn-warning" onclick="rename()">Go</button>


              </div>
            </div>

            <div class="col-md-4">
              <div style="text-align: left; color: white; ">
                <h1 style="text-decoration: underline;">All +/-</h1>
                
                <h4>Value: (e.g 10/-10)</h4>
                <input type="text" class="form-control" id="allValue" style="width: 100px;">
                <br>
                <button id="all" type="button" class="btn btn-warning" onclick="allAssign()">Go</button>


              </div>
            </div>
    
        </div>
        
   
        
      </div>
      


      <div class="container" style="text-align: center;">
        <br>
        <hr style="width: 100%; color: white; height: 2px; background-color:white;" />
        <h1 style="color: white; font-size: 300%; text-align: center;">Summary</h1>
        <button  type="button" class="btn btn-warning" onclick="gene()">Generate result</button>
        <br>
       </div>



      <div class="container">

        <div class="row" >
              
            <div class="col-md-12" style="font-size: 200%; color: white;">
              <h1 id="total"></h1>
              <h1 id="cal"></h1>
              <h1 id="maxer"></h1>
              <h1 id="miner"></h1>
              <br><br>


            </div>
        </div>  


      </div>

      <hr style="width: 100%; color: white; height: 2px; background-color:white;" />
      <div class="container" style="color: white; text-align: center;">
        <h1>Develop diary</h1>
        <h3 style="text-align: left;">Existen function: (16/07/20)<br>- +/- single or all counters<br>- Clear single/all counter<br>- Rename counters<br>- Summary reoprt(Sum,used counter,max value,min value)<br>- Check vaild<br>- Press enter to input values<br><br>24/7/2020 update<br>- Cookies to store Names and values<br></h3>
        <h3 style="text-align: left;">Future update:</h3>
        <h3 style="text-align: left;">- Better UI for display & control separated</h3>

      </div>

        
    </div>

    

    <!-- Optional JavaScript -->
    
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>


  <script>

      //counter A,B,C,D,E,F,G,H,I values//
      var count = [0,0,0,0,0,0,0,0,0];

      //var arr = ["numA","numB","numC","numD","numE","numF","numG","numH","numI"];// id of counter
      //var letters = ["A","B","C","D","E","F","G","H","I"];

      var cons_name = ["A","B","C","D","E","F","G","H","I"]; //default names, array for store names

      function loadInCook(){ //page on load to insert cookies
        for(let i = 0;i<count.length;i++){
          let name = "c" + i;
          if(!isNaN(Cookies.get(name))){ // In case the first loading and NaN values on cookies 
            count[i] = parseInt(Cookies.get(name));
          }
          else{
            count[i] = 0;
          }
          
          let tex = "num" + String.fromCharCode(65 + i); 
          document.getElementById(tex).innerHTML = count[i];

          ///////////////////////////////
          
          let name2 = "n" + i;
          if(Cookies.get(name2) === undefined){ // In case the first loading and undefined values 
            cons_name[i] = String.fromCharCode(65 + i);
          }
          else{
            cons_name[i] = Cookies.get(name2);
          }
         
          let Ind = "name" + String.fromCharCode(65 + i);         
          document.getElementById(Ind).innerHTML = cons_name[i];
          
        }
        //alert(cons_name);
        
        



      }



    

      function cookSet(){ // For all set

        for(let i = 0;i<count.length;i++){
          let name = "c" + i;
          Cookies.set(name, count[i]);
        }
        
       
      }

      //In this function, clear cookies means clear the memory of cookies, not the value!!
      function cookClear(){// For all clear
        for(let i = 0;i<count.length;i++){
          let name = "c" + i;
          Cookies.remove(name);
          let name2 = "n" + i;
          Cookies.remove(name2);

        }

        alert("Cookies clear. F5 to reload.");
      }


      

      function sumBot(num,ids,i){ // Numbers to +/-, ID, array index 

        count[i] += num;
        document.getElementById(ids).innerHTML = count[i];

        let name = "c" + i;
        Cookies.set(name, count[i]);
     
      }

      

      function clearOne(ids,i){ // ID, array index. For clear one counter
        count[i] = 0;
        document.getElementById(ids).innerHTML = count[i];

        let name = "c" + i;
        Cookies.set(name, count[i]);


      }


      function clearAll(){ //clear all counter
        count.fill(0); // set all value of arr to 0      
        for(let i = 0;i<count.length;i++){ //uptade html display value
          let tex = "num" + String.fromCharCode(65 + i);
          document.getElementById(tex).innerHTML = count[i];

          let name = "c" + i;
          Cookies.set(name, count[i]); // all clear,set all cook-value to 0
        }

      }

      function allAssign(){ // add numbers for all counters

        var jj = parseInt(document.getElementById("allValue").value);
        
        
        if(isNaN(jj) ){ //check valid
          alert("You can't enter a string / none.");
          document.getElementById("allValue").value = "";
          return;
        }

        

        for(let k = 0;k < count.length;k++){
          count[k] += jj; //get from allValue, add to counter
          let tex = "num" + String.fromCharCode(65 + k);
          document.getElementById(tex).innerHTML = count[k]; //update counter

        }

        document.getElementById("allValue").value = ""; //reset ""
        cookSet();
       
        
      }



      function gene(){ //functions for generate a summary reoprt
        document.getElementById("total").innerHTML = "Total sum : " + SumDatareduce(count); //get total sum

        let store = []; //get used counter and counter position
        var tot = 0; //total counter used num
        
        //I use "0" for a ref of if a counter is used or not. Not a counter was adjusted or else.
        for(let i = 0;i<count.length;i++){ // cal tot and push to store
          if(count[i] !=0){
            tot +=1;
            store.push(cons_name[i]);

          }

        }

        //var tot = count.length - count.filter(x => x === 0).length;
        document.getElementById("cal").innerHTML = "Used counter : " + tot +" ("+ store+ ")" ;
        
        //////////////////////////////////
        if(tot == 0){ // No counter used, op N/A
          document.getElementById("maxer").innerHTML = "Max number : N/A"  ;
          document.getElementById("miner").innerHTML = "Min number : N/A"  ;
          return;  

        }
       
        var max = Math.max(...count); // get max value

        var max_item = [];
        for(let i = 0;i<count.length;i++){ //get all max item
          if(max == count[i]){
            max_item.push(cons_name[i]);
          }


        }

        //var max_pos = count.indexOf(Math.max(...count));// get max value index

         
        var min = Math.min(...count); // get min value
        
        var min_item = [];

        for(let i = 0;i<count.length;i++){//get all min item
          if(min == count[i]){
            min_item.push(cons_name[i]);
          }


        }

        //var min_pos = count.indexOf(Math.min(...count));// get max value index
   
          document.getElementById("maxer").innerHTML = "Max number : " + max +" ("+ max_item+ ")" ;
          document.getElementById("miner").innerHTML = "Min number : " + min +" ("+ min_item+ ")" ;
        

      }
      
   

      function SumDatareduce(arr){ // cal total sum of array and return
        return arr.reduce((a,b)=>a+b);  
      }

      function assignValue(){ // assign value to selected counter

        var new_id = document.getElementById("sel1").value;//Target id
        var new_num = parseInt(document.getElementById("addValue").value);//Value to assign

        //alert(new_num);
        if(isNaN(new_num)){ //check valid
          alert("You can't enter a string / none.");
          document.getElementById("addValue").value = "";
          return;
        }
        //alert(new_num);

        var index = document.getElementById("sel1").selectedIndex;// related array index

        sumBot(new_num,new_id,index);
        document.getElementById("addValue").value = "";


      }

      function rename(){
        // var new_name = document.getElementById("rename1").value;
        

        if(document.getElementById("rename1").value == ""){ // a blank sent
          alert("You can't enter a blank name.");
          return;
        }

        let x = document.getElementById("sel2").selectedIndex; // index get

        cons_name[x] = document.getElementById("rename1").value; //push the new name to cons_name

        let names = "n" + x;
        Cookies.set(names, cons_name[x]);
        
        //alert(Cookies.get(names));

        document.getElementById(document.getElementById("sel2").value).innerHTML = document.getElementById("rename1").value; //update html
        document.getElementById("rename1").value = "";

      }

      

      //function for clicking enter to input x 3
      var input = document.getElementById("addValue");
       input.addEventListener("keyup", function(event) {
          if (event.keyCode === 13) {
           event.preventDefault();
           document.getElementById("addsub").click();
           }
        });

        var input = document.getElementById("rename1");
       input.addEventListener("keyup", function(event) {
          if (event.keyCode === 13) {
           event.preventDefault();
           document.getElementById("names").click();
           }
        });

      var input = document.getElementById("allValue");
       input.addEventListener("keyup", function(event) {
          if (event.keyCode === 13) {
           event.preventDefault();
           document.getElementById("all").click();
           }
        });

  </script>

  </body>
</html>